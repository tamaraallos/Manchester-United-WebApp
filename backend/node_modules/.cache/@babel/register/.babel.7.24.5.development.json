{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _register = require(\"./user/register.js\");\nvar _postService = require(\"./user/postService\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar app = (0, _express[\"default\"])();\nvar session = require('express-session');\nvar bodyParser = require('body-parser');\n\n// CORS middleware\napp.use((0, _cors[\"default\"])());\napp.use(bodyParser.json());\napp.use(session({\n  secret: 'key',\n  resave: false,\n  saveUninitialized: false\n}));\n\n// register endpoint - add new user to json file\napp.post('/register', function (req, res) {\n  var userData = req.body;\n  try {\n    (0, _register.addUser)(userData.firstName, userData.lastName, userData.username, userData.password);\n    res.status(200).send('User registered successfully!');\n  } catch (error) {\n    console.error('Error registering user:', error);\n    res.status(400).send('Username already exists');\n  }\n});\n\n//login endpoint - allows user to login if it meets requirments\napp.post('/login', function (req, res) {\n  try {\n    var _req$body = req.body,\n      username = _req$body.username,\n      password = _req$body.password;\n    var isUserValid = (0, _register.confirmUser)(username, password);\n    if (isUserValid) {\n      var userId = (0, _register.getUserId)(username);\n      req.session.user = {\n        id: userId,\n        username: username\n      };\n      res.json({\n        success: true,\n        message: 'Login succesful'\n      });\n    } else {\n      res.status(401).json({\n        success: false,\n        message: 'Invalid user or password'\n      });\n    }\n  } catch (error) {\n    console.error('Login failed!', error);\n    res.status(500).json({\n      success: false,\n      message: 'An error occurred during login'\n    });\n  }\n});\n\n// forum endpoint - add post to json file\napp.post('/forum', function (req, res) {\n  try {\n    var _req$body2 = req.body,\n      title = _req$body2.title,\n      body = _req$body2.body,\n      category = _req$body2.category,\n      username = _req$body2.username;\n    (0, _postService.addPost)(title, body, category, username);\n    res.status(200).json({\n      sucess: true\n    });\n  } catch (error) {\n    console.error('Error creating post:', error);\n    res.status(500).json({\n      sucess: false\n    });\n  }\n});\n\n// send data endpoint -  sends data to DisplayPosts.vue  (this displays posts)\napp.post('/posts', function (req, res) {\n  try {\n    var posts = (0, _postService.readPosts)();\n    res.status(200).json({\n      sucess: true,\n      posts: posts\n    });\n  } catch (error) {\n    console.error('Error fetching posts:', {\n      error: error\n    });\n    res.status(500).json({\n      success: false,\n      message: 'An error occurred while fetching posts'\n    });\n  }\n});\n\n// delete endpoint - delete posts based on id\napp[\"delete\"]('/posts/:id', function (req, res) {\n  try {\n    var postId = req.params.id;\n    var deleted = (0, _postService.deletePost)(postId);\n    if (deleted) {\n      res.status(200).json({\n        success: true,\n        message: 'Post deleted successfully'\n      });\n    } else {\n      res.status(404).json({\n        success: false,\n        message: 'Post not found'\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'An error occurred while fetching posts'\n    });\n  }\n});\n\n// update endpoint - update posts from passed in data\napp.put('/posts/update/:id', function (req, res) {\n  var postId = req.params.id;\n  var updatedPostData = req.body;\n  if ((0, _postService.updatePost)(postId, updatedPostData)) {\n    res.status(200).json({\n      message: 'Post updated successfully'\n    });\n  } else {\n    res.status(404).json({\n      error: 'Post not found'\n    });\n  }\n});\n\n// user react endpoint - saves user react type\napp.put('/posts/likeType/:id', function (req, res) {\n  try {\n    var postId = req.params.id;\n    var username = req.body.username;\n    var likeType = req.body.likeType;\n    var likedPost = (0, _postService.storeLikes)(postId, username, likeType);\n    if (likedPost) {\n      res.status(200).json({\n        success: true,\n        message: 'Post liked successfully'\n      });\n    } else {\n      res.status(404).json({\n        success: false,\n        message: 'Post not found'\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: 'An error occurred while liking post'\n    });\n  }\n});\n\n// confirm server is running + port number\napp.listen(8000, function () {\n  console.log('Server is listening on port 8000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9jb3JzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWdpc3RlciIsIl9wb3N0U2VydmljZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsImFwcCIsImV4cHJlc3MiLCJzZXNzaW9uIiwiYm9keVBhcnNlciIsInVzZSIsImNvcnMiLCJqc29uIiwic2VjcmV0IiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJwb3N0IiwicmVxIiwicmVzIiwidXNlckRhdGEiLCJib2R5IiwiYWRkVXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInN0YXR1cyIsInNlbmQiLCJlcnJvciIsImNvbnNvbGUiLCJfcmVxJGJvZHkiLCJpc1VzZXJWYWxpZCIsImNvbmZpcm1Vc2VyIiwidXNlcklkIiwiZ2V0VXNlcklkIiwidXNlciIsImlkIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJfcmVxJGJvZHkyIiwidGl0bGUiLCJjYXRlZ29yeSIsImFkZFBvc3QiLCJzdWNlc3MiLCJwb3N0cyIsInJlYWRQb3N0cyIsInBvc3RJZCIsInBhcmFtcyIsImRlbGV0ZWQiLCJkZWxldGVQb3N0IiwicHV0IiwidXBkYXRlZFBvc3REYXRhIiwidXBkYXRlUG9zdCIsImxpa2VUeXBlIiwibGlrZWRQb3N0Iiwic3RvcmVMaWtlcyIsImxpc3RlbiIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUYW1hcmFcXERlc2t0b3BcXG1hbiBVbml0ZWRcXGJhY2tlbmRcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MsIHsgcmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbmltcG9ydCB7IGFkZFVzZXIsIGNvbmZpcm1Vc2VyLCBnZXRVc2VySWQgfSBmcm9tICcuL3VzZXIvcmVnaXN0ZXIuanMnO1xyXG5pbXBvcnQgeyBhZGRQb3N0LCByZWFkUG9zdHMsIGRlbGV0ZVBvc3QsIHVwZGF0ZVBvc3QsIHN0b3JlTGlrZXMgfSBmcm9tICcuL3VzZXIvcG9zdFNlcnZpY2UnO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBzZXNzaW9uID0gcmVxdWlyZSgnZXhwcmVzcy1zZXNzaW9uJyk7IFxyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuXHJcbi8vIENPUlMgbWlkZGxld2FyZVxyXG5hcHAudXNlKGNvcnMoKSk7XHJcblxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuXHJcbmFwcC51c2Uoc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6ICdrZXknLFxyXG4gICAgcmVzYXZlOiBmYWxzZSxcclxuICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZVxyXG59KSk7XHJcblxyXG4vLyByZWdpc3RlciBlbmRwb2ludCAtIGFkZCBuZXcgdXNlciB0byBqc29uIGZpbGVcclxuYXBwLnBvc3QoJy9yZWdpc3RlcicsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSByZXEuYm9keTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYWRkVXNlcih1c2VyRGF0YS5maXJzdE5hbWUsIHVzZXJEYXRhLmxhc3ROYW1lLCB1c2VyRGF0YS51c2VybmFtZSwgdXNlckRhdGEucGFzc3dvcmQpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdVc2VyIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWdpc3RlcmluZyB1c2VyOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlcm5hbWUgYWxyZWFkeSBleGlzdHMnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vL2xvZ2luIGVuZHBvaW50IC0gYWxsb3dzIHVzZXIgdG8gbG9naW4gaWYgaXQgbWVldHMgcmVxdWlybWVudHNcclxuYXBwLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgY29uc3QgaXNVc2VyVmFsaWQgPSBjb25maXJtVXNlcih1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG4gICAgICAgIGlmIChpc1VzZXJWYWxpZCkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBnZXRVc2VySWQodXNlcm5hbWUpO1xyXG4gICAgICAgICAgICByZXEuc2Vzc2lvbi51c2VyID0geyBpZDogdXNlcklkLCB1c2VybmFtZTogdXNlcm5hbWUgfTtcclxuICAgICAgICAgICAgcmVzLmpzb24oe3N1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdMb2dpbiBzdWNjZXNmdWwnfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe3N1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnSW52YWxpZCB1c2VyIG9yIHBhc3N3b3JkJ30pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZmFpbGVkIScsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGxvZ2luJyB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBmb3J1bSBlbmRwb2ludCAtIGFkZCBwb3N0IHRvIGpzb24gZmlsZVxyXG5hcHAucG9zdCgnL2ZvcnVtJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgdGl0bGUsIGJvZHksIGNhdGVnb3J5LCB1c2VybmFtZSB9ID0gcmVxLmJvZHk7XHJcbiAgICAgICAgYWRkUG9zdCh0aXRsZSwgYm9keSwgY2F0ZWdvcnksIHVzZXJuYW1lKTsgICAgICAgICAgICBcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2VzczogdHJ1ZX0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwb3N0OicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7c3VjZXNzOiBmYWxzZX0pO1xyXG5cclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBzZW5kIGRhdGEgZW5kcG9pbnQgLSAgc2VuZHMgZGF0YSB0byBEaXNwbGF5UG9zdHMudnVlICAodGhpcyBkaXNwbGF5cyBwb3N0cylcclxuYXBwLnBvc3QoJy9wb3N0cycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb3N0cyA9IHJlYWRQb3N0cygpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtzdWNlc3M6IHRydWUsIHBvc3RzOiBwb3N0c30pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwb3N0czonLCB7IGVycm9yIH0pO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwb3N0cycgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gZGVsZXRlIGVuZHBvaW50IC0gZGVsZXRlIHBvc3RzIGJhc2VkIG9uIGlkXHJcbmFwcC5kZWxldGUoJy9wb3N0cy86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcG9zdElkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZWQgPSBkZWxldGVQb3N0KHBvc3RJZCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUG9zdCBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBmZXRjaGluZyBwb3N0cycgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gdXBkYXRlIGVuZHBvaW50IC0gdXBkYXRlIHBvc3RzIGZyb20gcGFzc2VkIGluIGRhdGFcclxuYXBwLnB1dCgnL3Bvc3RzL3VwZGF0ZS86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHBvc3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCB1cGRhdGVkUG9zdERhdGEgPSByZXEuYm9keTtcclxuICAgIGlmICh1cGRhdGVQb3N0KHBvc3RJZCwgdXBkYXRlZFBvc3REYXRhKSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgdXBkYXRlZCBzdWNjZXNzZnVsbHknIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUG9zdCBub3QgZm91bmQnIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIHVzZXIgcmVhY3QgZW5kcG9pbnQgLSBzYXZlcyB1c2VyIHJlYWN0IHR5cGVcclxuYXBwLnB1dCgnL3Bvc3RzL2xpa2VUeXBlLzppZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb3N0SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gcmVxLmJvZHkudXNlcm5hbWU7XHJcbiAgICAgICAgY29uc3QgbGlrZVR5cGUgPSByZXEuYm9keS5saWtlVHlwZTsgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxpa2VkUG9zdCA9IHN0b3JlTGlrZXMocG9zdElkLCB1c2VybmFtZSwgbGlrZVR5cGUpO1xyXG4gICAgICAgIGlmKGxpa2VkUG9zdCkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdQb3N0IGxpa2VkIHN1Y2Nlc3NmdWxseScgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsaWtpbmcgcG9zdCcgfSk7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbi8vIGNvbmZpcm0gc2VydmVyIGlzIHJ1bm5pbmcgKyBwb3J0IG51bWJlclxyXG5hcHAubGlzdGVuKDgwMDAsICgpID0+IHtc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","map":{"version":3,"names":["_express","_interopRequireWildcard","require","_cors","_interopRequireDefault","_register","_postService","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","app","express","session","bodyParser","use","cors","json","secret","resave","saveUninitialized","post","req","res","userData","body","addUser","firstName","lastName","username","password","status","send","error","console","_req$body","isUserValid","confirmUser","userId","getUserId","user","id","success","message","_req$body2","title","category","addPost","sucess","posts","readPosts","postId","params","deleted","deletePost","put","updatedPostData","updatePost","likeType","likedPost","storeLikes","listen","log"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\","sources":["server.js"],"sourcesContent":["import express, { response } from 'express';\r\nimport cors from 'cors';\r\nimport { addUser, confirmUser, getUserId } from './user/register.js';\r\nimport { addPost, readPosts, deletePost, updatePost, storeLikes } from './user/postService';\r\n\r\nconst app = express();\r\nconst session = require('express-session'); \r\nconst bodyParser = require('body-parser');\r\n\r\n// CORS middleware\r\napp.use(cors());\r\n\r\napp.use(bodyParser.json());\r\n\r\napp.use(session({\r\n    secret: 'key',\r\n    resave: false,\r\n    saveUninitialized: false\r\n}));\r\n\r\n// register endpoint - add new user to json file\r\napp.post('/register', (req, res) => {\r\n    const userData = req.body;\r\n    try {\r\n        addUser(userData.firstName, userData.lastName, userData.username, userData.password);\r\n        res.status(200).send('User registered successfully!');\r\n    } catch (error) {\r\n        console.error('Error registering user:', error);\r\n        res.status(400).send('Username already exists');\r\n    }\r\n});\r\n\r\n//login endpoint - allows user to login if it meets requirments\r\napp.post('/login', (req, res) => {\r\n    try {\r\n        const { username, password } = req.body;\r\n        const isUserValid = confirmUser(username, password);\r\n        if (isUserValid) {\r\n            const userId = getUserId(username);\r\n            req.session.user = { id: userId, username: username };\r\n            res.json({success: true, message: 'Login succesful'});\r\n        } else {\r\n            res.status(401).json({success: false, message: 'Invalid user or password'});\r\n        }\r\n    } catch (error) {\r\n        console.error('Login failed!', error);\r\n        res.status(500).json({ success: false, message: 'An error occurred during login' });\r\n    }\r\n});\r\n\r\n// forum endpoint - add post to json file\r\napp.post('/forum', (req, res) => {\r\n    try {\r\n        const { title, body, category, username } = req.body;\r\n        addPost(title, body, category, username);            \r\n        res.status(200).json({ sucess: true});\r\n    } catch (error) {\r\n        console.error('Error creating post:', error);\r\n        res.status(500).json({sucess: false});\r\n\r\n    }\r\n});\r\n\r\n// send data endpoint -  sends data to DisplayPosts.vue  (this displays posts)\r\napp.post('/posts', (req, res) => {\r\n    try {\r\n        const posts = readPosts();\r\n        res.status(200).json({sucess: true, posts: posts});\r\n    } catch (error) {\r\n        console.error('Error fetching posts:', { error });\r\n        res.status(500).json({ success: false, message: 'An error occurred while fetching posts' });\r\n    }\r\n});\r\n\r\n// delete endpoint - delete posts based on id\r\napp.delete('/posts/:id', (req, res) => {\r\n    try {\r\n        const postId = req.params.id\r\n        const deleted = deletePost(postId);\r\n        if (deleted) {\r\n            res.status(200).json({ success: true, message: 'Post deleted successfully' });\r\n        } else {\r\n            res.status(404).json({ success: false, message: 'Post not found' });\r\n        }\r\n    } catch (error) {\r\n        res.status(500).json({ success: false, message: 'An error occurred while fetching posts' });\r\n    }\r\n});\r\n\r\n// update endpoint - update posts from passed in data\r\napp.put('/posts/update/:id', (req, res) => {\r\n    const postId = req.params.id;\r\n    const updatedPostData = req.body;\r\n    if (updatePost(postId, updatedPostData)) {\r\n        res.status(200).json({ message: 'Post updated successfully' });\r\n    } else {\r\n        res.status(404).json({ error: 'Post not found' });\r\n    }\r\n});\r\n\r\n// user react endpoint - saves user react type\r\napp.put('/posts/likeType/:id', (req, res) => {\r\n    try {\r\n        const postId = req.params.id;\r\n        const username = req.body.username;\r\n        const likeType = req.body.likeType;        \r\n        const likedPost = storeLikes(postId, username, likeType);\r\n        if(likedPost) {\r\n            res.status(200).json({ success: true, message: 'Post liked successfully' });\r\n        } else {\r\n            res.status(404).json({ success: false, message: 'Post not found' });\r\n        }\r\n    } catch (error) {\r\n        res.status(500).json({ success: false, message: 'An error occurred while liking post' });\r\n    }\r\n\r\n});\r\n\r\n// confirm server is running + port number\r\napp.listen(8000, () => {\r\n    console.log('Server is listening on port 8000')\r\n});"],"mappings":"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","ignoreList":[]}},"mtime":1716022503712},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\register.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addUser = addUser;\nexports.confirmUser = confirmUser;\nexports.getUserId = getUserId;\nexports.readUserData = readUserData;\nexports.writeUserData = writeUserData;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar path = require('path');\nvar userDataFilePath = path.join(__dirname, 'userData.json'); // user register/login details saved here\n\n// function reads user data from JSON file\nfunction readUserData() {\n  try {\n    var userData = JSON.parse(_fs[\"default\"].readFileSync(userDataFilePath, 'utf-8'));\n    return userData;\n  } catch (error) {\n    return []; // if file doesn't exist/empty return an empty array (created file if not exist)\n  }\n}\n\n// function write user data to JSON file\nfunction writeUserData(userData) {\n  try {\n    _fs[\"default\"].writeFileSync(userDataFilePath, JSON.stringify(userData, null, 2));\n    // logger('User data written successfully'); \n  } catch (error) {\n    logger('Error writing user data to file', error); // log error\n  }\n}\n\n// function to add a new user to userData.json\nfunction addUser(firstName, lastName, username, password) {\n  var userData = readUserData();\n  var existingUser = userData.find(function (user) {\n    return user.username === username;\n  });\n  if (existingUser) {\n    throw new Error('Username already exists. Please try again.');\n  }\n  //initialises passed in data\n  var newUser = {\n    id: userData.length + 1,\n    // primary key auto-increment based on array length\n    firstName: firstName,\n    lastName: lastName,\n    username: username,\n    password: password\n  };\n  // pushes data then writes to file\n  userData.push(newUser);\n  writeUserData(userData);\n}\n\n// verifies user and password\nfunction confirmUser(username, password) {\n  var userData = readUserData();\n  var user = userData.find(function (user) {\n    return user.username === username && user.password === password;\n  });\n  return user;\n}\n\n// get userId\nfunction getUserId(username) {\n  var userData = readUserData();\n  var user = userData.find(function (user) {\n    return user.username === username;\n  });\n  return user ? user.id : null; // if user exist return id else null\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInBhdGgiLCJ1c2VyRGF0YUZpbGVQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJlYWRVc2VyRGF0YSIsInVzZXJEYXRhIiwiSlNPTiIsInBhcnNlIiwiZnMiLCJyZWFkRmlsZVN5bmMiLCJlcnJvciIsIndyaXRlVXNlckRhdGEiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwibG9nZ2VyIiwiYWRkVXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImV4aXN0aW5nVXNlciIsImZpbmQiLCJ1c2VyIiwiRXJyb3IiLCJuZXdVc2VyIiwiaWQiLCJsZW5ndGgiLCJwdXNoIiwiY29uZmlybVVzZXIiLCJnZXRVc2VySWQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVGFtYXJhXFxEZXNrdG9wXFxtYW4gVW5pdGVkXFxiYWNrZW5kXFxzcmNcXHVzZXJcXCIsInNvdXJjZXMiOlsicmVnaXN0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuXHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcblxyXG5jb25zdCB1c2VyRGF0YUZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJ3VzZXJEYXRhLmpzb24nKTsgLy8gdXNlciByZWdpc3Rlci9sb2dpbiBkZXRhaWxzIHNhdmVkIGhlcmVcclxuXHJcbi8vIGZ1bmN0aW9uIHJlYWRzIHVzZXIgZGF0YSBmcm9tIEpTT04gZmlsZVxyXG5mdW5jdGlvbiByZWFkVXNlckRhdGEoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmModXNlckRhdGFGaWxlUGF0aCwgJ3V0Zi04JykpO1xyXG4gICAgICAgIHJldHVybiB1c2VyRGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdOyAvLyBpZiBmaWxlIGRvZXNuJ3QgZXhpc3QvZW1wdHkgcmV0dXJuIGFuIGVtcHR5IGFycmF5IChjcmVhdGVkIGZpbGUgaWYgbm90IGV4aXN0KVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3cml0ZSB1c2VyIGRhdGEgdG8gSlNPTiBmaWxlXHJcbmZ1bmN0aW9uIHdyaXRlVXNlckRhdGEodXNlckRhdGEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyh1c2VyRGF0YUZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICAgIC8vIGxvZ2dlcignVXNlciBkYXRhIHdyaXR0ZW4gc3VjY2Vzc2Z1bGx5Jyk7IFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBsb2dnZXIoJ0Vycm9yIHdyaXRpbmcgdXNlciBkYXRhIHRvIGZpbGUnLCBlcnJvcik7IC8vIGxvZyBlcnJvclxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB0byBhZGQgYSBuZXcgdXNlciB0byB1c2VyRGF0YS5qc29uXHJcbmZ1bmN0aW9uIGFkZFVzZXIoZmlyc3ROYW1lLCBsYXN0TmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHJlYWRVc2VyRGF0YSgpO1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gdXNlckRhdGEuZmluZCh1c2VyID0+IHVzZXIudXNlcm5hbWUgPT09IHVzZXJuYW1lKTtcclxuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXJuYW1lIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfVxyXG4gICAgLy9pbml0aWFsaXNlcyBwYXNzZWQgaW4gZGF0YVxyXG4gICAgY29uc3QgbmV3VXNlciA9IHtcclxuICAgICAgICBpZDogdXNlckRhdGEubGVuZ3RoICsgMSwgLy8gcHJpbWFyeSBrZXkgYXV0by1pbmNyZW1lbnQgYmFzZWQgb24gYXJyYXkgbGVuZ3RoXHJcbiAgICAgICAgZmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgIH07XHJcbiAgICAvLyBwdXNoZXMgZGF0YSB0aGVuIHdyaXRlcyB0byBmaWxlXHJcbiAgICB1c2VyRGF0YS5wdXNoKG5ld1VzZXIpO1xyXG4gICAgd3JpdGVVc2VyRGF0YSh1c2VyRGF0YSk7XHJcbn1cclxuXHJcbi8vIHZlcmlmaWVzIHVzZXIgYW5kIHBhc3N3b3JkXHJcbmZ1bmN0aW9uIGNvbmZpcm1Vc2VyKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSByZWFkVXNlckRhdGEoKTtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRGF0YS5maW5kKHVzZXIgPT4gdXNlci51c2VybmFtZSA9PT0gdXNlcm5hbWUgJiYgdXNlci5wYXNzd29yZCA9PT0gcGFzc3dvcmQpO1xyXG4gICAgcmV0dXJuIHVzZXI7IFxyXG59XHJcblxyXG4vLyBnZXQgdXNlcklkXHJcbmZ1bmN0aW9uIGdldFVzZXJJZCh1c2VybmFtZSkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSByZWFkVXNlckRhdGEoKTtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRGF0YS5maW5kKHVzZXIgPT4gdXNlci51c2VybmFtZSA9PT0gdXNlcm5hbWUpO1xyXG4gICAgcmV0dXJuIHVzZXIgPyB1c2VyLmlkIDogbnVsbDsgLy8gaWYgdXNlciBleGlzdCByZXR1cm4gaWQgZWxzZSBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCB7IFxyXG4gICAgcmVhZFVzZXJEYXRhLFxyXG4gICAgd3JpdGVVc2VyRGF0YSxcclxuICAgIGFkZFVzZXIsXHJcbiAgICBjb25maXJtVXNlciwg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","map":{"version":3,"names":["_fs","_interopRequireDefault","require","path","userDataFilePath","join","__dirname","readUserData","userData","JSON","parse","fs","readFileSync","error","writeUserData","writeFileSync","stringify","logger","addUser","firstName","lastName","username","password","existingUser","find","user","Error","newUser","id","length","push","confirmUser","getUserId"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\user\\","sources":["register.js"],"sourcesContent":["import fs from 'fs';\r\n\r\nconst path = require('path');\r\n\r\nconst userDataFilePath = path.join(__dirname, 'userData.json'); // user register/login details saved here\r\n\r\n// function reads user data from JSON file\r\nfunction readUserData() {\r\n    try {\r\n        const userData = JSON.parse(fs.readFileSync(userDataFilePath, 'utf-8'));\r\n        return userData;\r\n    } catch (error) {\r\n        return []; // if file doesn't exist/empty return an empty array (created file if not exist)\r\n    }\r\n}\r\n\r\n// function write user data to JSON file\r\nfunction writeUserData(userData) {\r\n    try {\r\n        fs.writeFileSync(userDataFilePath, JSON.stringify(userData, null, 2));\r\n        // logger('User data written successfully'); \r\n    } catch (error) {\r\n        logger('Error writing user data to file', error); // log error\r\n    }\r\n}\r\n\r\n// function to add a new user to userData.json\r\nfunction addUser(firstName, lastName, username, password) {\r\n    const userData = readUserData();\r\n    const existingUser = userData.find(user => user.username === username);\r\n    if (existingUser) {\r\n        throw new Error('Username already exists. Please try again.');\r\n    }\r\n    //initialises passed in data\r\n    const newUser = {\r\n        id: userData.length + 1, // primary key auto-increment based on array length\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        username: username,\r\n        password: password\r\n    };\r\n    // pushes data then writes to file\r\n    userData.push(newUser);\r\n    writeUserData(userData);\r\n}\r\n\r\n// verifies user and password\r\nfunction confirmUser(username, password) {\r\n    const userData = readUserData();\r\n    const user = userData.find(user => user.username === username && user.password === password);\r\n    return user; \r\n}\r\n\r\n// get userId\r\nfunction getUserId(username) {\r\n    const userData = readUserData();\r\n    const user = userData.find(user => user.username === username);\r\n    return user ? user.id : null; // if user exist return id else null\r\n}\r\n\r\nexport { \r\n    readUserData,\r\n    writeUserData,\r\n    addUser,\r\n    confirmUser, \r\n    getUserId,\r\n};\r\n\r\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE5B,IAAME,gBAAgB,GAAGD,IAAI,CAACE,IAAI,CAACC,SAAS,EAAE,eAAe,CAAC,CAAC,CAAC;;AAEhE;AACA,SAASC,YAAYA,CAAA,EAAG;EACpB,IAAI;IACA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAE,CAACC,YAAY,CAACR,gBAAgB,EAAE,OAAO,CAAC,CAAC;IACvE,OAAOI,QAAQ;EACnB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,OAAO,EAAE,CAAC,CAAC;EACf;AACJ;;AAEA;AACA,SAASC,aAAaA,CAACN,QAAQ,EAAE;EAC7B,IAAI;IACAG,cAAE,CAACI,aAAa,CAACX,gBAAgB,EAAEK,IAAI,CAACO,SAAS,CAACR,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACrE;EACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZI,MAAM,CAAC,iCAAiC,EAAEJ,KAAK,CAAC,CAAC,CAAC;EACtD;AACJ;;AAEA;AACA,SAASK,OAAOA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EACtD,IAAMd,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMgB,YAAY,GAAGf,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EACtE,IAAIE,YAAY,EAAE;IACd,MAAM,IAAIG,KAAK,CAAC,4CAA4C,CAAC;EACjE;EACA;EACA,IAAMC,OAAO,GAAG;IACZC,EAAE,EAAEpB,QAAQ,CAACqB,MAAM,GAAG,CAAC;IAAE;IACzBV,SAAS,EAAEA,SAAS;IACpBC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA;EACd,CAAC;EACD;EACAd,QAAQ,CAACsB,IAAI,CAACH,OAAO,CAAC;EACtBb,aAAa,CAACN,QAAQ,CAAC;AAC3B;;AAEA;AACA,SAASuB,WAAWA,CAACV,QAAQ,EAAEC,QAAQ,EAAE;EACrC,IAAMd,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMkB,IAAI,GAAGjB,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ,IAAII,IAAI,CAACH,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EAC5F,OAAOG,IAAI;AACf;;AAEA;AACA,SAASO,SAASA,CAACX,QAAQ,EAAE;EACzB,IAAMb,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMkB,IAAI,GAAGjB,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EAC9D,OAAOI,IAAI,GAAGA,IAAI,CAACG,EAAE,GAAG,IAAI,CAAC,CAAC;AAClC","ignoreList":[]}},"mtime":1715432681391},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\register.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addUser = addUser;\nexports.confirmUser = confirmUser;\nexports.getUserId = getUserId;\nexports.readUserData = readUserData;\nexports.writeUserData = writeUserData;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar path = require('path');\nvar userDataFilePath = path.join(__dirname, 'userData.json'); // user register/login details saved here\n\n// function reads user data from JSON file\nfunction readUserData() {\n  try {\n    var userData = JSON.parse(_fs[\"default\"].readFileSync(userDataFilePath, 'utf-8'));\n    return userData;\n  } catch (error) {\n    return []; // if file doesn't exist/empty return an empty array (created file if not exist)\n  }\n}\n\n// function write user data to JSON file\nfunction writeUserData(userData) {\n  try {\n    _fs[\"default\"].writeFileSync(userDataFilePath, JSON.stringify(userData, null, 2));\n    // logger('User data written successfully'); \n  } catch (error) {\n    logger('Error writing user data to file', error); // log error\n  }\n}\n\n// function to add a new user to userData.json\nfunction addUser(firstName, lastName, username, password) {\n  var userData = readUserData();\n  var existingUser = userData.find(function (user) {\n    return user.username === username;\n  });\n  if (existingUser) {\n    throw new Error('Username already exists. Please try again.');\n  }\n  //initialises passed in data\n  var newUser = {\n    id: userData.length + 1,\n    // primary key auto-increment based on array length\n    firstName: firstName,\n    lastName: lastName,\n    username: username,\n    password: password\n  };\n  // pushes data then writes to file\n  userData.push(newUser);\n  writeUserData(userData);\n}\n\n// verifies user and password\nfunction confirmUser(username, password) {\n  var userData = readUserData();\n  var user = userData.find(function (user) {\n    return user.username === username && user.password === password;\n  });\n  return user;\n}\n\n// get userId\nfunction getUserId(username) {\n  var userData = readUserData();\n  var user = userData.find(function (user) {\n    return user.username === username;\n  });\n  return user ? user.id : null; // if user exist return id else null\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInBhdGgiLCJ1c2VyRGF0YUZpbGVQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJlYWRVc2VyRGF0YSIsInVzZXJEYXRhIiwiSlNPTiIsInBhcnNlIiwiZnMiLCJyZWFkRmlsZVN5bmMiLCJlcnJvciIsIndyaXRlVXNlckRhdGEiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwibG9nZ2VyIiwiYWRkVXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImV4aXN0aW5nVXNlciIsImZpbmQiLCJ1c2VyIiwiRXJyb3IiLCJuZXdVc2VyIiwiaWQiLCJsZW5ndGgiLCJwdXNoIiwiY29uZmlybVVzZXIiLCJnZXRVc2VySWQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVGFtYXJhXFxEZXNrdG9wXFxtYW4gVW5pdGVkXFxiYWNrZW5kXFxzcmNcXHVzZXJcXCIsInNvdXJjZXMiOlsicmVnaXN0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuXHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcblxyXG5jb25zdCB1c2VyRGF0YUZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJ3VzZXJEYXRhLmpzb24nKTsgLy8gdXNlciByZWdpc3Rlci9sb2dpbiBkZXRhaWxzIHNhdmVkIGhlcmVcclxuXHJcbi8vIGZ1bmN0aW9uIHJlYWRzIHVzZXIgZGF0YSBmcm9tIEpTT04gZmlsZVxyXG5mdW5jdGlvbiByZWFkVXNlckRhdGEoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmModXNlckRhdGFGaWxlUGF0aCwgJ3V0Zi04JykpO1xyXG4gICAgICAgIHJldHVybiB1c2VyRGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdOyAvLyBpZiBmaWxlIGRvZXNuJ3QgZXhpc3QvZW1wdHkgcmV0dXJuIGFuIGVtcHR5IGFycmF5IChjcmVhdGVkIGZpbGUgaWYgbm90IGV4aXN0KVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB3cml0ZSB1c2VyIGRhdGEgdG8gSlNPTiBmaWxlXHJcbmZ1bmN0aW9uIHdyaXRlVXNlckRhdGEodXNlckRhdGEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyh1c2VyRGF0YUZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSwgbnVsbCwgMikpO1xyXG4gICAgICAgIC8vIGxvZ2dlcignVXNlciBkYXRhIHdyaXR0ZW4gc3VjY2Vzc2Z1bGx5Jyk7IFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBsb2dnZXIoJ0Vycm9yIHdyaXRpbmcgdXNlciBkYXRhIHRvIGZpbGUnLCBlcnJvcik7IC8vIGxvZyBlcnJvclxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBmdW5jdGlvbiB0byBhZGQgYSBuZXcgdXNlciB0byB1c2VyRGF0YS5qc29uXHJcbmZ1bmN0aW9uIGFkZFVzZXIoZmlyc3ROYW1lLCBsYXN0TmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHJlYWRVc2VyRGF0YSgpO1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gdXNlckRhdGEuZmluZCh1c2VyID0+IHVzZXIudXNlcm5hbWUgPT09IHVzZXJuYW1lKTtcclxuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXJuYW1lIGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgfVxyXG4gICAgLy9pbml0aWFsaXNlcyBwYXNzZWQgaW4gZGF0YVxyXG4gICAgY29uc3QgbmV3VXNlciA9IHtcclxuICAgICAgICBpZDogdXNlckRhdGEubGVuZ3RoICsgMSwgLy8gcHJpbWFyeSBrZXkgYXV0by1pbmNyZW1lbnQgYmFzZWQgb24gYXJyYXkgbGVuZ3RoXHJcbiAgICAgICAgZmlyc3ROYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgIH07XHJcbiAgICAvLyBwdXNoZXMgZGF0YSB0aGVuIHdyaXRlcyB0byBmaWxlXHJcbiAgICB1c2VyRGF0YS5wdXNoKG5ld1VzZXIpO1xyXG4gICAgd3JpdGVVc2VyRGF0YSh1c2VyRGF0YSk7XHJcbn1cclxuXHJcbi8vIHZlcmlmaWVzIHVzZXIgYW5kIHBhc3N3b3JkXHJcbmZ1bmN0aW9uIGNvbmZpcm1Vc2VyKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSByZWFkVXNlckRhdGEoKTtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRGF0YS5maW5kKHVzZXIgPT4gdXNlci51c2VybmFtZSA9PT0gdXNlcm5hbWUgJiYgdXNlci5wYXNzd29yZCA9PT0gcGFzc3dvcmQpO1xyXG4gICAgcmV0dXJuIHVzZXI7IFxyXG59XHJcblxyXG4vLyBnZXQgdXNlcklkXHJcbmZ1bmN0aW9uIGdldFVzZXJJZCh1c2VybmFtZSkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSByZWFkVXNlckRhdGEoKTtcclxuICAgIGNvbnN0IHVzZXIgPSB1c2VyRGF0YS5maW5kKHVzZXIgPT4gdXNlci51c2VybmFtZSA9PT0gdXNlcm5hbWUpO1xyXG4gICAgcmV0dXJuIHVzZXIgPyB1c2VyLmlkIDogbnVsbDsgLy8gaWYgdXNlciBleGlzdCByZXR1cm4gaWQgZWxzZSBudWxsXHJcbn1cclxuXHJcbmV4cG9ydCB7IFxyXG4gICAgcmVhZFVzZXJEYXRhLFxyXG4gICAgd3JpdGVVc2VyRGF0YSxcclxuICAgIGFkZFVzZXIsXHJcbiAgICBjb25maXJtVXNlciwg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","map":{"version":3,"names":["_fs","_interopRequireDefault","require","path","userDataFilePath","join","__dirname","readUserData","userData","JSON","parse","fs","readFileSync","error","writeUserData","writeFileSync","stringify","logger","addUser","firstName","lastName","username","password","existingUser","find","user","Error","newUser","id","length","push","confirmUser","getUserId"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\user\\","sources":["register.js"],"sourcesContent":["import fs from 'fs';\r\n\r\nconst path = require('path');\r\n\r\nconst userDataFilePath = path.join(__dirname, 'userData.json'); // user register/login details saved here\r\n\r\n// function reads user data from JSON file\r\nfunction readUserData() {\r\n    try {\r\n        const userData = JSON.parse(fs.readFileSync(userDataFilePath, 'utf-8'));\r\n        return userData;\r\n    } catch (error) {\r\n        return []; // if file doesn't exist/empty return an empty array (created file if not exist)\r\n    }\r\n}\r\n\r\n// function write user data to JSON file\r\nfunction writeUserData(userData) {\r\n    try {\r\n        fs.writeFileSync(userDataFilePath, JSON.stringify(userData, null, 2));\r\n        // logger('User data written successfully'); \r\n    } catch (error) {\r\n        logger('Error writing user data to file', error); // log error\r\n    }\r\n}\r\n\r\n// function to add a new user to userData.json\r\nfunction addUser(firstName, lastName, username, password) {\r\n    const userData = readUserData();\r\n    const existingUser = userData.find(user => user.username === username);\r\n    if (existingUser) {\r\n        throw new Error('Username already exists. Please try again.');\r\n    }\r\n    //initialises passed in data\r\n    const newUser = {\r\n        id: userData.length + 1, // primary key auto-increment based on array length\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        username: username,\r\n        password: password\r\n    };\r\n    // pushes data then writes to file\r\n    userData.push(newUser);\r\n    writeUserData(userData);\r\n}\r\n\r\n// verifies user and password\r\nfunction confirmUser(username, password) {\r\n    const userData = readUserData();\r\n    const user = userData.find(user => user.username === username && user.password === password);\r\n    return user; \r\n}\r\n\r\n// get userId\r\nfunction getUserId(username) {\r\n    const userData = readUserData();\r\n    const user = userData.find(user => user.username === username);\r\n    return user ? user.id : null; // if user exist return id else null\r\n}\r\n\r\nexport { \r\n    readUserData,\r\n    writeUserData,\r\n    addUser,\r\n    confirmUser, \r\n    getUserId,\r\n};\r\n\r\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE5B,IAAME,gBAAgB,GAAGD,IAAI,CAACE,IAAI,CAACC,SAAS,EAAE,eAAe,CAAC,CAAC,CAAC;;AAEhE;AACA,SAASC,YAAYA,CAAA,EAAG;EACpB,IAAI;IACA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAE,CAACC,YAAY,CAACR,gBAAgB,EAAE,OAAO,CAAC,CAAC;IACvE,OAAOI,QAAQ;EACnB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,OAAO,EAAE,CAAC,CAAC;EACf;AACJ;;AAEA;AACA,SAASC,aAAaA,CAACN,QAAQ,EAAE;EAC7B,IAAI;IACAG,cAAE,CAACI,aAAa,CAACX,gBAAgB,EAAEK,IAAI,CAACO,SAAS,CAACR,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACrE;EACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZI,MAAM,CAAC,iCAAiC,EAAEJ,KAAK,CAAC,CAAC,CAAC;EACtD;AACJ;;AAEA;AACA,SAASK,OAAOA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EACtD,IAAMd,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMgB,YAAY,GAAGf,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EACtE,IAAIE,YAAY,EAAE;IACd,MAAM,IAAIG,KAAK,CAAC,4CAA4C,CAAC;EACjE;EACA;EACA,IAAMC,OAAO,GAAG;IACZC,EAAE,EAAEpB,QAAQ,CAACqB,MAAM,GAAG,CAAC;IAAE;IACzBV,SAAS,EAAEA,SAAS;IACpBC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA;EACd,CAAC;EACD;EACAd,QAAQ,CAACsB,IAAI,CAACH,OAAO,CAAC;EACtBb,aAAa,CAACN,QAAQ,CAAC;AAC3B;;AAEA;AACA,SAASuB,WAAWA,CAACV,QAAQ,EAAEC,QAAQ,EAAE;EACrC,IAAMd,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMkB,IAAI,GAAGjB,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ,IAAII,IAAI,CAACH,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EAC5F,OAAOG,IAAI;AACf;;AAEA;AACA,SAASO,SAASA,CAACX,QAAQ,EAAE;EACzB,IAAMb,QAAQ,GAAGD,YAAY,CAAC,CAAC;EAC/B,IAAMkB,IAAI,GAAGjB,QAAQ,CAACgB,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACJ,QAAQ,KAAKA,QAAQ;EAAA,EAAC;EAC9D,OAAOI,IAAI,GAAGA,IAAI,CAACG,EAAE,GAAG,IAAI,CAAC,CAAC;AAClC","ignoreList":[]}},"mtime":1715432681391},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\postService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addPost = addPost;\nexports.deletePost = deletePost;\nexports.readPosts = readPosts;\nexports.storeLikes = storeLikes;\nexports.updatePost = updatePost;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar path = require('path');\nvar postFilePath = path.join(__dirname, 'userPost.json'); // post details saved here\n\n// function read the user's post\nfunction readPosts() {\n  try {\n    var postData = JSON.parse(_fs[\"default\"].readFileSync(postFilePath, 'utf-8'));\n    return postData;\n  } catch (error) {\n    return [];\n  }\n}\n\n// function write the post data into the json file\nfunction writePosts(postData) {\n  try {\n    _fs[\"default\"].writeFileSync(postFilePath, JSON.stringify(postData, null, 2));\n  } catch (error) {\n    console.error('Error writing post data to file', error);\n  }\n}\n\n// function to add user post\nfunction addPost(title, body, category, username) {\n  var posts = readPosts(); // reads post\n  var postId = posts.length + 1; // generates primary key based on length of array\n  var newPost = {\n    // initalised object with passed in data\n    id: postId,\n    title: title,\n    body: body,\n    category: category,\n    username: username,\n    likes: [],\n    // like/dislike always empty when creating new post\n    dislikes: []\n  };\n  posts.push(newPost);\n  writePosts(posts); // updates json file\n}\n\n// delete post\nfunction deletePost(id) {\n  var posts = readPosts();\n  // find index of the post to delete\n  var deletedItemIndex = posts.findIndex(function (post) {\n    return post.id === id;\n  });\n  if (deletedItemIndex !== 1) {\n    posts.splice(deletedItemIndex, 1); // remove the post from the array\n    writePosts(posts); // update json file \n    return true;\n  } else {\n    return false;\n  }\n}\n\n// update post based on id\nfunction updatePost(id, updatedPostData) {\n  id = Number(id); // convert to integer\n  var posts = readPosts();\n  var object = posts.find(function (obj) {\n    return obj.id === id;\n  });\n  if (object) {\n    Object.keys(updatedPostData).forEach(function (key) {\n      if (key !== 'username') {\n        object[key] = updatedPostData[key];\n      }\n    });\n    writePosts(posts);\n    return true; // sucess\n  } else {\n    return false; // fail\n  }\n}\n\n// like and dislike\nfunction storeLikes(id, username, likeType) {\n  var posts = readPosts();\n  id = Number(id);\n  var post = posts.find(function (post) {\n    return post.id === id;\n  });\n  if (post) {\n    var hasLiked = post.likes.includes(username);\n    var hasDisliked = post.dislikes.includes(username);\n    // check if user has interacted with the post already\n    if (!hasLiked && !hasDisliked) {\n      if (likeType === 'like') {\n        // if not then name added to whatever they chose to react\n        post.likes.push(username);\n      } else if (likeType === 'dislike') {\n        post.dislikes.push(username);\n      }\n      writePosts(posts); // upates json file\n      return true;\n    } else {\n      return false; // user has already liked the post \n    }\n  } else {\n    return false; // post doesn't exist/not found\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInBhdGgiLCJwb3N0RmlsZVBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwicmVhZFBvc3RzIiwicG9zdERhdGEiLCJKU09OIiwicGFyc2UiLCJmcyIsInJlYWRGaWxlU3luYyIsImVycm9yIiwid3JpdGVQb3N0cyIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwiYWRkUG9zdCIsInRpdGxlIiwiYm9keSIsImNhdGVnb3J5IiwidXNlcm5hbWUiLCJwb3N0cyIsInBvc3RJZCIsImxlbmd0aCIsIm5ld1Bvc3QiLCJpZCIsImxpa2VzIiwiZGlzbGlrZXMiLCJwdXNoIiwiZGVsZXRlUG9zdCIsImRlbGV0ZWRJdGVtSW5kZXgiLCJmaW5kSW5kZXgiLCJwb3N0Iiwic3BsaWNlIiwidXBkYXRlUG9zdCIsInVwZGF0ZWRQb3N0RGF0YSIsIk51bWJlciIsIm9iamVjdCIsImZpbmQiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInN0b3JlTGlrZXMiLCJsaWtlVHlwZSIsImhhc0xpa2VkIiwiaW5jbHVkZXMiLCJoYXNEaXNsaWtlZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUYW1hcmFcXERlc2t0b3BcXG1hbiBVbml0ZWRcXGJhY2tlbmRcXHNyY1xcdXNlclxcIiwic291cmNlcyI6WyJwb3N0U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5cclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuXHJcbmNvbnN0IHBvc3RGaWxlUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICd1c2VyUG9zdC5qc29uJyk7IC8vIHBvc3QgZGV0YWlscyBzYXZlZCBoZXJlXHJcblxyXG4vLyBmdW5jdGlvbiByZWFkIHRoZSB1c2VyJ3MgcG9zdFxyXG5mdW5jdGlvbiByZWFkUG9zdHMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBvc3REYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocG9zdEZpbGVQYXRoLCAndXRmLTgnKSk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3REYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdyaXRlIHRoZSBwb3N0IGRhdGEgaW50byB0aGUganNvbiBmaWxlXHJcbmZ1bmN0aW9uIHdyaXRlUG9zdHMocG9zdERhdGEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwb3N0RmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHBvc3REYXRhLCBudWxsLCAyKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdyaXRpbmcgcG9zdCBkYXRhIHRvIGZpbGUnLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHRvIGFkZCB1c2VyIHBvc3RcclxuZnVuY3Rpb24gYWRkUG9zdCh0aXRsZSwgYm9keSwgY2F0ZWdvcnksIHVzZXJuYW1lKSB7XHJcbiAgICBjb25zdCBwb3N0cyA9IHJlYWRQb3N0cygpOyAvLyByZWFkcyBwb3N0XHJcbiAgICBjb25zdCBwb3N0SWQgPSBwb3N0cy5sZW5ndGggKyAxOyAvLyBnZW5lcmF0ZXMgcHJpbWFyeSBrZXkgYmFzZWQgb24gbGVuZ3RoIG9mIGFycmF5XHJcbiAgICBjb25zdCBuZXdQb3N0ID0geyAvLyBpbml0YWxpc2VkIG9iamVjdCB3aXRoIHBhc3NlZCBpbiBkYXRhXHJcbiAgICAgICAgaWQ6IHBvc3RJZCxcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgYm9keTogYm9keSxcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgIGxpa2VzOiBbXSwgLy8gbGlrZS9kaXNsaWtlIGFsd2F5cyBlbXB0eSB3aGVuIGNyZWF0aW5nIG5ldyBwb3N0XHJcbiAgICAgICAgZGlzbGlrZXM6IFtdXHJcbiAgICB9O1xyXG4gICAgcG9zdHMucHVzaChuZXdQb3N0KTtcclxuICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGRhdGVzIGpzb24gZmlsZVxyXG59XHJcblxyXG4vLyBkZWxldGUgcG9zdFxyXG5mdW5jdGlvbiBkZWxldGVQb3N0KGlkKSB7XHJcbiAgICBsZXQgcG9zdHMgPSByZWFkUG9zdHMoKTsgXHJcbiAgICAvLyBmaW5kIGluZGV4IG9mIHRoZSBwb3N0IHRvIGRlbGV0ZVxyXG4gICAgY29uc3QgZGVsZXRlZEl0ZW1JbmRleCA9IHBvc3RzLmZpbmRJbmRleChwb3N0ID0+IHBvc3QuaWQgPT09IGlkKTtcclxuXHJcbiAgICBpZihkZWxldGVkSXRlbUluZGV4ICE9PSAxKSB7XHJcbiAgICAgICAgcG9zdHMuc3BsaWNlKGRlbGV0ZWRJdGVtSW5kZXgsIDEpOy8vIHJlbW92ZSB0aGUgcG9zdCBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGRhdGUganNvbiBmaWxlIFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIHVwZGF0ZSBwb3N0IGJhc2VkIG9uIGlkXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc3QoaWQsIHVwZGF0ZWRQb3N0RGF0YSkge1xyXG4gICAgaWQgPSBOdW1iZXIoaWQpOyAvLyBjb252ZXJ0IHRvIGludGVnZXJcclxuICAgIGxldCBwb3N0cyA9IHJlYWRQb3N0cygpO1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gcG9zdHMuZmluZChvYmogPT4gb2JqLmlkID09PSBpZCk7XHJcbiAgICBpZiAob2JqZWN0KSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXModXBkYXRlZFBvc3REYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICd1c2VybmFtZScpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdXBkYXRlZFBvc3REYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3cml0ZVBvc3RzKHBvc3RzKVxyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBzdWNlc3NcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZmFpbFxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBsaWtlIGFuZCBkaXNsaWtlXHJcbmZ1bmN0aW9uIHN0b3JlTGlrZXMoaWQsIHVzZXJuYW1lLCBsaWtlVHlwZSkge1xyXG4gICAgbGV0IHBvc3RzID0gcmVhZFBvc3RzKCk7XHJcbiAgICBpZCA9IE51bWJlcihpZCk7XHJcbiAgICBjb25zdCBwb3N0ID0gcG9zdHMuZmluZChwb3N0ID0+IHBvc3QuaWQgPT09IGlkKTtcclxuICAgIFxyXG4gICAgaWYgKHBvc3QpIHtcclxuICAgICAgICBjb25zdCBoYXNMaWtlZCA9IHBvc3QubGlrZXMuaW5jbHVkZXModXNlcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGhhc0Rpc2xpa2VkID0gcG9zdC5kaXNsaWtlcy5pbmNsdWRlcyh1c2VybmFtZSk7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBoYXMgaW50ZXJhY3RlZCB3aXRoIHRoZSBwb3N0IGFscmVhZHlcclxuICAgICAgICBpZiAoIWhhc0xpa2VkICYmICFoYXNEaXNsaWtlZCkge1xyXG4gICAgICAgICAgICBpZiAobGlrZVR5cGUgPT09ICdsaWtlJykgeyAgIC8vIGlmIG5vdCB0aGVuIG5hbWUgYWRkZWQgdG8gd2hhdGV2ZXIgdGhleSBjaG9zZSB0byByZWFjdFxyXG4gICAgICAgICAgICAgICAgcG9zdC5saWtlcy5wdXNoKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaWtlVHlwZSA9PT0gJ2Rpc2xpa2UnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3N0LmRpc2xpa2VzLnB1c2godXNlcm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGF0ZXMganNvbiBmaWxlXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHVzZXIgaGFzIGFscmVhZHkgbGlrZWQgdGhlIHBvc3QgXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHBvc3QgZG9lc24ndCBleGlzdC9ub3QgZm91bmRcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgXHJcbiAgICBhZGRQb3N0LFxyXG4gICAgcmVhZFBvc3RzLFxyXG4gICAgZGVsZXRlUG9zdCxcclxuICAgIHVwZGF0ZVBvc3QsXHJcbiAgICBzdG9yZUxpa2VzXHJcbiB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxHQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFNUIsSUFBTUUsWUFBWSxHQUFHRCxJQUFJLENBQUNFLElBQUksQ0FBQ0MsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDLENBQUM7O0FBRTVEO0FBQ0EsU0FBU0MsU0FBU0EsQ0FBQSxFQUFHO0VBQ2pCLElBQUk7SUFDQSxJQUFNQyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxjQUFFLENBQUNDLFlBQVksQ0FBQ1IsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25FLE9BQU9JLFFBQVE7RUFDbkIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNaLE9BQU8sRUFBRTtFQUNiO0FBQ0o7O0FBRUE7QUFDQSxTQUFTQyxVQUFVQSxDQUFDTixRQUFR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","map":{"version":3,"names":["_fs","_interopRequireDefault","require","path","postFilePath","join","__dirname","readPosts","postData","JSON","parse","fs","readFileSync","error","writePosts","writeFileSync","stringify","console","addPost","title","body","category","username","posts","postId","length","newPost","id","likes","dislikes","push","deletePost","deletedItemIndex","findIndex","post","splice","updatePost","updatedPostData","Number","object","find","obj","Object","keys","forEach","key","storeLikes","likeType","hasLiked","includes","hasDisliked"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\user\\","sources":["postService.js"],"sourcesContent":["import fs from 'fs';\r\n\r\nconst path = require('path');\r\n\r\nconst postFilePath = path.join(__dirname, 'userPost.json'); // post details saved here\r\n\r\n// function read the user's post\r\nfunction readPosts() {\r\n    try {\r\n        const postData = JSON.parse(fs.readFileSync(postFilePath, 'utf-8'));\r\n        return postData;\r\n    } catch (error) {\r\n        return [];\r\n    }\r\n}\r\n\r\n// function write the post data into the json file\r\nfunction writePosts(postData) {\r\n    try {\r\n        fs.writeFileSync(postFilePath, JSON.stringify(postData, null, 2));\r\n    } catch (error) {\r\n        console.error('Error writing post data to file', error);\r\n    }\r\n}\r\n\r\n// function to add user post\r\nfunction addPost(title, body, category, username) {\r\n    const posts = readPosts(); // reads post\r\n    const postId = posts.length + 1; // generates primary key based on length of array\r\n    const newPost = { // initalised object with passed in data\r\n        id: postId,\r\n        title: title,\r\n        body: body,\r\n        category: category,\r\n        username: username,\r\n        likes: [], // like/dislike always empty when creating new post\r\n        dislikes: []\r\n    };\r\n    posts.push(newPost);\r\n    writePosts(posts); // updates json file\r\n}\r\n\r\n// delete post\r\nfunction deletePost(id) {\r\n    let posts = readPosts(); \r\n    // find index of the post to delete\r\n    const deletedItemIndex = posts.findIndex(post => post.id === id);\r\n\r\n    if(deletedItemIndex !== 1) {\r\n        posts.splice(deletedItemIndex, 1);// remove the post from the array\r\n        writePosts(posts); // update json file \r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n// update post based on id\r\nfunction updatePost(id, updatedPostData) {\r\n    id = Number(id); // convert to integer\r\n    let posts = readPosts();\r\n    const object = posts.find(obj => obj.id === id);\r\n    if (object) {\r\n        Object.keys(updatedPostData).forEach(key => {\r\n            if (key !== 'username') {\r\n                object[key] = updatedPostData[key];\r\n            }\r\n        });\r\n        writePosts(posts)\r\n        return true; // sucess\r\n\r\n    } else {\r\n        return false; // fail\r\n    }\r\n}\r\n\r\n// like and dislike\r\nfunction storeLikes(id, username, likeType) {\r\n    let posts = readPosts();\r\n    id = Number(id);\r\n    const post = posts.find(post => post.id === id);\r\n    \r\n    if (post) {\r\n        const hasLiked = post.likes.includes(username);\r\n        const hasDisliked = post.dislikes.includes(username);\r\n        // check if user has interacted with the post already\r\n        if (!hasLiked && !hasDisliked) {\r\n            if (likeType === 'like') {   // if not then name added to whatever they chose to react\r\n                post.likes.push(username);\r\n            } else if (likeType === 'dislike') {\r\n                post.dislikes.push(username);\r\n            }\r\n            writePosts(posts); // upates json file\r\n            return true; \r\n        } else {\r\n            return false; // user has already liked the post \r\n        }\r\n    } else {\r\n        return false; // post doesn't exist/not found\r\n    }\r\n}\r\n\r\nexport { \r\n    addPost,\r\n    readPosts,\r\n    deletePost,\r\n    updatePost,\r\n    storeLikes\r\n };"],"mappings":"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","ignoreList":[]}},"mtime":1716021966201},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\user\\\\postService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addPost = addPost;\nexports.deletePost = deletePost;\nexports.readPosts = readPosts;\nexports.storeLikes = storeLikes;\nexports.updatePost = updatePost;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar path = require('path');\nvar postFilePath = path.join(__dirname, 'userPost.json'); // post details saved here\n\n// function read the user's post\nfunction readPosts() {\n  try {\n    var postData = JSON.parse(_fs[\"default\"].readFileSync(postFilePath, 'utf-8'));\n    return postData;\n  } catch (error) {\n    return [];\n  }\n}\n\n// function write the post data into the json file\nfunction writePosts(postData) {\n  try {\n    _fs[\"default\"].writeFileSync(postFilePath, JSON.stringify(postData, null, 2));\n  } catch (error) {\n    console.error('Error writing post data to file', error);\n  }\n}\n\n// function to add user post\nfunction addPost(title, body, category, username) {\n  var posts = readPosts(); // reads post\n  var postId = posts.length + 1; // generates primary key based on length of array\n  var newPost = {\n    // initalised object with passed in data\n    id: postId,\n    title: title,\n    body: body,\n    category: category,\n    username: username,\n    likes: [],\n    // like/dislike always empty when creating new post\n    dislikes: []\n  };\n  posts.push(newPost);\n  writePosts(posts); // updates json file\n}\n\n// delete post\nfunction deletePost(id) {\n  var posts = readPosts();\n  // find index of the post to delete\n  var deletedItemIndex = posts.findIndex(function (post) {\n    return post.id === id;\n  });\n  if (deletedItemIndex !== 1) {\n    posts.splice(deletedItemIndex, 1); // remove the post from the array\n    writePosts(posts); // update json file \n    return true;\n  } else {\n    return false;\n  }\n}\n\n// update post based on id\nfunction updatePost(id, updatedPostData) {\n  id = Number(id); // convert to integer\n  var posts = readPosts();\n  var object = posts.find(function (obj) {\n    return obj.id === id;\n  });\n  if (object) {\n    Object.keys(updatedPostData).forEach(function (key) {\n      if (key !== 'username') {\n        object[key] = updatedPostData[key];\n      }\n    });\n    writePosts(posts);\n    return true; // sucess\n  } else {\n    return false; // fail\n  }\n}\n\n// like and dislike\nfunction storeLikes(id, username, likeType) {\n  var posts = readPosts();\n  id = Number(id);\n  var post = posts.find(function (post) {\n    return post.id === id;\n  });\n  if (post) {\n    var hasLiked = post.likes.includes(username);\n    var hasDisliked = post.dislikes.includes(username);\n    // check if user has interacted with the post already\n    if (!hasLiked && !hasDisliked) {\n      if (likeType === 'like') {\n        // if not then name added to whatever they chose to react\n        post.likes.push(username);\n      } else if (likeType === 'dislike') {\n        post.dislikes.push(username);\n      }\n      writePosts(posts); // upates json file\n      return true;\n    } else {\n      return false; // user has already liked the post \n    }\n  } else {\n    return false; // post doesn't exist/not found\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsInBhdGgiLCJwb3N0RmlsZVBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwicmVhZFBvc3RzIiwicG9zdERhdGEiLCJKU09OIiwicGFyc2UiLCJmcyIsInJlYWRGaWxlU3luYyIsImVycm9yIiwid3JpdGVQb3N0cyIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwiYWRkUG9zdCIsInRpdGxlIiwiYm9keSIsImNhdGVnb3J5IiwidXNlcm5hbWUiLCJwb3N0cyIsInBvc3RJZCIsImxlbmd0aCIsIm5ld1Bvc3QiLCJpZCIsImxpa2VzIiwiZGlzbGlrZXMiLCJwdXNoIiwiZGVsZXRlUG9zdCIsImRlbGV0ZWRJdGVtSW5kZXgiLCJmaW5kSW5kZXgiLCJwb3N0Iiwic3BsaWNlIiwidXBkYXRlUG9zdCIsInVwZGF0ZWRQb3N0RGF0YSIsIk51bWJlciIsIm9iamVjdCIsImZpbmQiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInN0b3JlTGlrZXMiLCJsaWtlVHlwZSIsImhhc0xpa2VkIiwiaW5jbHVkZXMiLCJoYXNEaXNsaWtlZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUYW1hcmFcXERlc2t0b3BcXG1hbiBVbml0ZWRcXGJhY2tlbmRcXHNyY1xcdXNlclxcIiwic291cmNlcyI6WyJwb3N0U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5cclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuXHJcbmNvbnN0IHBvc3RGaWxlUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICd1c2VyUG9zdC5qc29uJyk7IC8vIHBvc3QgZGV0YWlscyBzYXZlZCBoZXJlXHJcblxyXG4vLyBmdW5jdGlvbiByZWFkIHRoZSB1c2VyJ3MgcG9zdFxyXG5mdW5jdGlvbiByZWFkUG9zdHMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBvc3REYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocG9zdEZpbGVQYXRoLCAndXRmLTgnKSk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3REYXRhO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHdyaXRlIHRoZSBwb3N0IGRhdGEgaW50byB0aGUganNvbiBmaWxlXHJcbmZ1bmN0aW9uIHdyaXRlUG9zdHMocG9zdERhdGEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwb3N0RmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHBvc3REYXRhLCBudWxsLCAyKSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdyaXRpbmcgcG9zdCBkYXRhIHRvIGZpbGUnLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHRvIGFkZCB1c2VyIHBvc3RcclxuZnVuY3Rpb24gYWRkUG9zdCh0aXRsZSwgYm9keSwgY2F0ZWdvcnksIHVzZXJuYW1lKSB7XHJcbiAgICBjb25zdCBwb3N0cyA9IHJlYWRQb3N0cygpOyAvLyByZWFkcyBwb3N0XHJcbiAgICBjb25zdCBwb3N0SWQgPSBwb3N0cy5sZW5ndGggKyAxOyAvLyBnZW5lcmF0ZXMgcHJpbWFyeSBrZXkgYmFzZWQgb24gbGVuZ3RoIG9mIGFycmF5XHJcbiAgICBjb25zdCBuZXdQb3N0ID0geyAvLyBpbml0YWxpc2VkIG9iamVjdCB3aXRoIHBhc3NlZCBpbiBkYXRhXHJcbiAgICAgICAgaWQ6IHBvc3RJZCxcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgYm9keTogYm9keSxcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgIGxpa2VzOiBbXSwgLy8gbGlrZS9kaXNsaWtlIGFsd2F5cyBlbXB0eSB3aGVuIGNyZWF0aW5nIG5ldyBwb3N0XHJcbiAgICAgICAgZGlzbGlrZXM6IFtdXHJcbiAgICB9O1xyXG4gICAgcG9zdHMucHVzaChuZXdQb3N0KTtcclxuICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGRhdGVzIGpzb24gZmlsZVxyXG59XHJcblxyXG4vLyBkZWxldGUgcG9zdFxyXG5mdW5jdGlvbiBkZWxldGVQb3N0KGlkKSB7XHJcbiAgICBsZXQgcG9zdHMgPSByZWFkUG9zdHMoKTsgXHJcbiAgICAvLyBmaW5kIGluZGV4IG9mIHRoZSBwb3N0IHRvIGRlbGV0ZVxyXG4gICAgY29uc3QgZGVsZXRlZEl0ZW1JbmRleCA9IHBvc3RzLmZpbmRJbmRleChwb3N0ID0+IHBvc3QuaWQgPT09IGlkKTtcclxuXHJcbiAgICBpZihkZWxldGVkSXRlbUluZGV4ICE9PSAxKSB7XHJcbiAgICAgICAgcG9zdHMuc3BsaWNlKGRlbGV0ZWRJdGVtSW5kZXgsIDEpOy8vIHJlbW92ZSB0aGUgcG9zdCBmcm9tIHRoZSBhcnJheVxyXG4gICAgICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGRhdGUganNvbiBmaWxlIFxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIHVwZGF0ZSBwb3N0IGJhc2VkIG9uIGlkXHJcbmZ1bmN0aW9uIHVwZGF0ZVBvc3QoaWQsIHVwZGF0ZWRQb3N0RGF0YSkge1xyXG4gICAgaWQgPSBOdW1iZXIoaWQpOyAvLyBjb252ZXJ0IHRvIGludGVnZXJcclxuICAgIGxldCBwb3N0cyA9IHJlYWRQb3N0cygpO1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gcG9zdHMuZmluZChvYmogPT4gb2JqLmlkID09PSBpZCk7XHJcbiAgICBpZiAob2JqZWN0KSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXModXBkYXRlZFBvc3REYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICd1c2VybmFtZScpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdXBkYXRlZFBvc3REYXRhW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3cml0ZVBvc3RzKHBvc3RzKVxyXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBzdWNlc3NcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZmFpbFxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBsaWtlIGFuZCBkaXNsaWtlXHJcbmZ1bmN0aW9uIHN0b3JlTGlrZXMoaWQsIHVzZXJuYW1lLCBsaWtlVHlwZSkge1xyXG4gICAgbGV0IHBvc3RzID0gcmVhZFBvc3RzKCk7XHJcbiAgICBpZCA9IE51bWJlcihpZCk7XHJcbiAgICBjb25zdCBwb3N0ID0gcG9zdHMuZmluZChwb3N0ID0+IHBvc3QuaWQgPT09IGlkKTtcclxuICAgIFxyXG4gICAgaWYgKHBvc3QpIHtcclxuICAgICAgICBjb25zdCBoYXNMaWtlZCA9IHBvc3QubGlrZXMuaW5jbHVkZXModXNlcm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGhhc0Rpc2xpa2VkID0gcG9zdC5kaXNsaWtlcy5pbmNsdWRlcyh1c2VybmFtZSk7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdXNlciBoYXMgaW50ZXJhY3RlZCB3aXRoIHRoZSBwb3N0IGFscmVhZHlcclxuICAgICAgICBpZiAoIWhhc0xpa2VkICYmICFoYXNEaXNsaWtlZCkge1xyXG4gICAgICAgICAgICBpZiAobGlrZVR5cGUgPT09ICdsaWtlJykgeyAgIC8vIGlmIG5vdCB0aGVuIG5hbWUgYWRkZWQgdG8gd2hhdGV2ZXIgdGhleSBjaG9zZSB0byByZWFjdFxyXG4gICAgICAgICAgICAgICAgcG9zdC5saWtlcy5wdXNoKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaWtlVHlwZSA9PT0gJ2Rpc2xpa2UnKSB7XHJcbiAgICAgICAgICAgICAgICBwb3N0LmRpc2xpa2VzLnB1c2godXNlcm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdyaXRlUG9zdHMocG9zdHMpOyAvLyB1cGF0ZXMganNvbiBmaWxlXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHVzZXIgaGFzIGFscmVhZHkgbGlrZWQgdGhlIHBvc3QgXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHBvc3QgZG9lc24ndCBleGlzdC9ub3QgZm91bmRcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgXHJcbiAgICBhZGRQb3N0LFxyXG4gICAgcmVhZFBvc3RzLFxyXG4gICAgZGVsZXRlUG9zdCxcclxuICAgIHVwZGF0ZVBvc3QsXHJcbiAgICBzdG9yZUxpa2VzXHJcbiB9OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxHQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFNUIsSUFBTUUsWUFBWSxHQUFHRCxJQUFJLENBQUNFLElBQUksQ0FBQ0MsU0FBUyxFQUFFLGVBQWUsQ0FBQyxDQUFDLENBQUM7O0FBRTVEO0FBQ0EsU0FBU0MsU0FBU0EsQ0FBQSxFQUFHO0VBQ2pCLElBQUk7SUFDQSxJQUFNQyxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxjQUFFLENBQUNDLFlBQVksQ0FBQ1IsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25FLE9BQU9JLFFBQVE7RUFDbkIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNaLE9BQU8sRUFBRTtFQUNiO0FBQ0o7O0FBRUE7QUFDQSxTQUFTQyxVQUFVQSxDQUFDTixRQUFR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","map":{"version":3,"names":["_fs","_interopRequireDefault","require","path","postFilePath","join","__dirname","readPosts","postData","JSON","parse","fs","readFileSync","error","writePosts","writeFileSync","stringify","console","addPost","title","body","category","username","posts","postId","length","newPost","id","likes","dislikes","push","deletePost","deletedItemIndex","findIndex","post","splice","updatePost","updatedPostData","Number","object","find","obj","Object","keys","forEach","key","storeLikes","likeType","hasLiked","includes","hasDisliked"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\user\\","sources":["postService.js"],"sourcesContent":["import fs from 'fs';\r\n\r\nconst path = require('path');\r\n\r\nconst postFilePath = path.join(__dirname, 'userPost.json'); // post details saved here\r\n\r\n// function read the user's post\r\nfunction readPosts() {\r\n    try {\r\n        const postData = JSON.parse(fs.readFileSync(postFilePath, 'utf-8'));\r\n        return postData;\r\n    } catch (error) {\r\n        return [];\r\n    }\r\n}\r\n\r\n// function write the post data into the json file\r\nfunction writePosts(postData) {\r\n    try {\r\n        fs.writeFileSync(postFilePath, JSON.stringify(postData, null, 2));\r\n    } catch (error) {\r\n        console.error('Error writing post data to file', error);\r\n    }\r\n}\r\n\r\n// function to add user post\r\nfunction addPost(title, body, category, username) {\r\n    const posts = readPosts(); // reads post\r\n    const postId = posts.length + 1; // generates primary key based on length of array\r\n    const newPost = { // initalised object with passed in data\r\n        id: postId,\r\n        title: title,\r\n        body: body,\r\n        category: category,\r\n        username: username,\r\n        likes: [], // like/dislike always empty when creating new post\r\n        dislikes: []\r\n    };\r\n    posts.push(newPost);\r\n    writePosts(posts); // updates json file\r\n}\r\n\r\n// delete post\r\nfunction deletePost(id) {\r\n    let posts = readPosts(); \r\n    // find index of the post to delete\r\n    const deletedItemIndex = posts.findIndex(post => post.id === id);\r\n\r\n    if(deletedItemIndex !== 1) {\r\n        posts.splice(deletedItemIndex, 1);// remove the post from the array\r\n        writePosts(posts); // update json file \r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\n// update post based on id\r\nfunction updatePost(id, updatedPostData) {\r\n    id = Number(id); // convert to integer\r\n    let posts = readPosts();\r\n    const object = posts.find(obj => obj.id === id);\r\n    if (object) {\r\n        Object.keys(updatedPostData).forEach(key => {\r\n            if (key !== 'username') {\r\n                object[key] = updatedPostData[key];\r\n            }\r\n        });\r\n        writePosts(posts)\r\n        return true; // sucess\r\n\r\n    } else {\r\n        return false; // fail\r\n    }\r\n}\r\n\r\n// like and dislike\r\nfunction storeLikes(id, username, likeType) {\r\n    let posts = readPosts();\r\n    id = Number(id);\r\n    const post = posts.find(post => post.id === id);\r\n    \r\n    if (post) {\r\n        const hasLiked = post.likes.includes(username);\r\n        const hasDisliked = post.dislikes.includes(username);\r\n        // check if user has interacted with the post already\r\n        if (!hasLiked && !hasDisliked) {\r\n            if (likeType === 'like') {   // if not then name added to whatever they chose to react\r\n                post.likes.push(username);\r\n            } else if (likeType === 'dislike') {\r\n                post.dislikes.push(username);\r\n            }\r\n            writePosts(posts); // upates json file\r\n            return true; \r\n        } else {\r\n            return false; // user has already liked the post \r\n        }\r\n    } else {\r\n        return false; // post doesn't exist/not found\r\n    }\r\n}\r\n\r\nexport { \r\n    addPost,\r\n    readPosts,\r\n    deletePost,\r\n    updatePost,\r\n    storeLikes\r\n };"],"mappings":";;;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAE5B,IAAME,YAAY,GAAGD,IAAI,CAACE,IAAI,CAACC,SAAS,EAAE,eAAe,CAAC,CAAC,CAAC;;AAE5D;AACA,SAASC,SAASA,CAAA,EAAG;EACjB,IAAI;IACA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAE,CAACC,YAAY,CAACR,YAAY,EAAE,OAAO,CAAC,CAAC;IACnE,OAAOI,QAAQ;EACnB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,OAAO,EAAE;EACb;AACJ;;AAEA;AACA,SAASC,UAAUA,CAACN,QAAQ,EAAE;EAC1B,IAAI;IACAG,cAAE,CAACI,aAAa,CAACX,YAAY,EAAEK,IAAI,CAACO,SAAS,CAACR,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZI,OAAO,CAACJ,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;EAC3D;AACJ;;AAEA;AACA,SAASK,OAAOA,CAACC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAC9C,IAAMC,KAAK,GAAGhB,SAAS,CAAC,CAAC,CAAC,CAAC;EAC3B,IAAMiB,MAAM,GAAGD,KAAK,CAACE,MAAM,GAAG,CAAC,CAAC,CAAC;EACjC,IAAMC,OAAO,GAAG;IAAE;IACdC,EAAE,EAAEH,MAAM;IACVL,KAAK,EAAEA,KAAK;IACZC,IAAI,EAAEA,IAAI;IACVC,QAAQ,EAAEA,QAAQ;IAClBC,QAAQ,EAAEA,QAAQ;IAClBM,KAAK,EAAE,EAAE;IAAE;IACXC,QAAQ,EAAE;EACd,CAAC;EACDN,KAAK,CAACO,IAAI,CAACJ,OAAO,CAAC;EACnBZ,UAAU,CAACS,KAAK,CAAC,CAAC,CAAC;AACvB;;AAEA;AACA,SAASQ,UAAUA,CAACJ,EAAE,EAAE;EACpB,IAAIJ,KAAK,GAAGhB,SAAS,CAAC,CAAC;EACvB;EACA,IAAMyB,gBAAgB,GAAGT,KAAK,CAACU,SAAS,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACP,EAAE,KAAKA,EAAE;EAAA,EAAC;EAEhE,IAAGK,gBAAgB,KAAK,CAAC,EAAE;IACvBT,KAAK,CAACY,MAAM,CAACH,gBAAgB,EAAE,CAAC,CAAC,CAAC;IAClClB,UAAU,CAACS,KAAK,CAAC,CAAC,CAAC;IACnB,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ;;AAEA;AACA,SAASa,UAAUA,CAACT,EAAE,EAAEU,eAAe,EAAE;EACrCV,EAAE,GAAGW,MAAM,CAACX,EAAE,CAAC,CAAC,CAAC;EACjB,IAAIJ,KAAK,GAAGhB,SAAS,CAAC,CAAC;EACvB,IAAMgC,MAAM,GAAGhB,KAAK,CAACiB,IAAI,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACd,EAAE,KAAKA,EAAE;EAAA,EAAC;EAC/C,IAAIY,MAAM,EAAE;IACRG,MAAM,CAACC,IAAI,CAACN,eAAe,CAAC,CAACO,OAAO,CAAC,UAAAC,GAAG,EAAI;MACxC,IAAIA,GAAG,KAAK,UAAU,EAAE;QACpBN,MAAM,CAACM,GAAG,CAAC,GAAGR,eAAe,CAACQ,GAAG,CAAC;MACtC;IACJ,CAAC,CAAC;IACF/B,UAAU,CAACS,KAAK,CAAC;IACjB,OAAO,IAAI,CAAC,CAAC;EAEjB,CAAC,MAAM;IACH,OAAO,KAAK,CAAC,CAAC;EAClB;AACJ;;AAEA;AACA,SAASuB,UAAUA,CAACnB,EAAE,EAAEL,QAAQ,EAAEyB,QAAQ,EAAE;EACxC,IAAIxB,KAAK,GAAGhB,SAAS,CAAC,CAAC;EACvBoB,EAAE,GAAGW,MAAM,CAACX,EAAE,CAAC;EACf,IAAMO,IAAI,GAAGX,KAAK,CAACiB,IAAI,CAAC,UAAAN,IAAI;IAAA,OAAIA,IAAI,CAACP,EAAE,KAAKA,EAAE;EAAA,EAAC;EAE/C,IAAIO,IAAI,EAAE;IACN,IAAMc,QAAQ,GAAGd,IAAI,CAACN,KAAK,CAACqB,QAAQ,CAAC3B,QAAQ,CAAC;IAC9C,IAAM4B,WAAW,GAAGhB,IAAI,CAACL,QAAQ,CAACoB,QAAQ,CAAC3B,QAAQ,CAAC;IACpD;IACA,IAAI,CAAC0B,QAAQ,IAAI,CAACE,WAAW,EAAE;MAC3B,IAAIH,QAAQ,KAAK,MAAM,EAAE;QAAI;QACzBb,IAAI,CAACN,KAAK,CAACE,IAAI,CAACR,QAAQ,CAAC;MAC7B,CAAC,MAAM,IAAIyB,QAAQ,KAAK,SAAS,EAAE;QAC/Bb,IAAI,CAACL,QAAQ,CAACC,IAAI,CAACR,QAAQ,CAAC;MAChC;MACAR,UAAU,CAACS,KAAK,CAAC,CAAC,CAAC;MACnB,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK,CAAC,CAAC;IAClB;EACJ,CAAC,MAAM;IACH,OAAO,KAAK,CAAC,CAAC;EAClB;AACJ","ignoreList":[]}},"mtime":1716021966201},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\session.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateToken = generateToken;\nexports.verifyToken = verifyToken;\nvar jwt = require('jsonwebtoken');\nvar JWT_SECRET = 'secrete123';\n\n// Middleware function to generate JWT upon user authentication\nfunction generateToken(user) {\n  // Generate JWT with user payload and secret key\n  return jwt.sign(user, JWT_SECRET, {\n    expiresIn: '1h'\n  });\n}\n\n// Middleware to protect routes with JWT authentication\nfunction verifyToken(req, res, next) {\n  var token = req.headers['authorization'];\n  if (!token) {\n    return res.status(401).json({\n      message: 'Unauthorized: No token provided'\n    });\n  }\n  try {\n    // Verify token\n    var decoded = jwt.verify(token, JWT_SECRET);\n\n    // Attach decoded user information to the request object\n    req.user = decoded;\n    next();\n  } catch (err) {\n    return res.status(401).json({\n      message: 'Unauthorized: Invalid token'\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiSldUX1NFQ1JFVCIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZCIsInZlcmlmeSIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUYW1hcmFcXERlc2t0b3BcXG1hbiBVbml0ZWRcXGJhY2tlbmRcXHNyY1xcIiwic291cmNlcyI6WyJzZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5cclxuY29uc3QgSldUX1NFQ1JFVCA9ICdzZWNyZXRlMTIzJztcclxuXHJcbi8vIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgSldUIHVwb24gdXNlciBhdXRoZW50aWNhdGlvblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXIpIHtcclxuICAgIC8vIEdlbmVyYXRlIEpXVCB3aXRoIHVzZXIgcGF5bG9hZCBhbmQgc2VjcmV0IGtleVxyXG4gICAgcmV0dXJuIGp3dC5zaWduKHVzZXIsIEpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pO1xyXG59XHJcblxyXG4vLyBNaWRkbGV3YXJlIHRvIHByb3RlY3Qgcm91dGVzIHdpdGggSldUIGF1dGhlbnRpY2F0aW9uXHJcbmZ1bmN0aW9uIHZlcmlmeVRva2VuKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ107XHJcblxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQ6IE5vIHRva2VuIHByb3ZpZGVkJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFZlcmlmeSB0b2tlblxyXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBdHRhY2ggZGVjb2RlZCB1c2VyIGluZm9ybWF0aW9uIHRvIHRoZSByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIHJlcS51c2VyID0gZGVjb2RlZDtcclxuXHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZDogSW52YWxpZCB0b2tlbicgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgZ2VuZXJhdGVUb2tlbixcclxuICAgIHZlcmlmeVRva2VuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFbkMsSUFBTUMsVUFBVSxHQUFHLFlBQVk7O0FBRS9CO0FBQ0EsU0FBU0MsYUFBYUEsQ0FBQ0MsSUFBSSxFQUFFO0VBQ3pCO0VBQ0EsT0FBT0osR0FBRyxDQUFDSyxJQUFJLENBQUNELElBQUksRUFBRUYsVUFBVSxFQUFFO0lBQUVJLFNBQVMsRUFBRTtFQUFLLENBQUMsQ0FBQztBQUMxRDs7QUFFQTtBQUNBLFNBQVNDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUU7RUFDakMsSUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQU8sQ0FBQyxlQUFlLENBQUM7RUFFMUMsSUFBSSxDQUFDRCxLQUFLLEVBQUU7SUFDUixPQUFPRixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFrQyxDQUFDLENBQUM7RUFDL0U7RUFFQSxJQUFJO0lBQ0E7SUFDQSxJQUFNQyxPQUFPLEdBQUdoQixHQUFHLENBQUNpQixNQUFNLENBQUNOLEtBQUssRUFBRVQsVUFBVSxDQUFDOztJQUU3QztJQUNBTSxHQUFHLENBQUNKLElBQUksR0FBR1ksT0FBTztJQUVsQk4sSUFBSSxDQUFDLENBQUM7RUFDVixDQUFDLENBQUMsT0FBT1EsR0FBRyxFQUFFO0lBQ1YsT0FBT1QsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBOEIsQ0FBQyxDQUFDO0VBQzNFO0FBQ0oiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["jwt","require","JWT_SECRET","generateToken","user","sign","expiresIn","verifyToken","req","res","next","token","headers","status","json","message","decoded","verify","err"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\","sources":["session.js"],"sourcesContent":["const jwt = require('jsonwebtoken');\r\n\r\nconst JWT_SECRET = 'secrete123';\r\n\r\n// Middleware function to generate JWT upon user authentication\r\nfunction generateToken(user) {\r\n    // Generate JWT with user payload and secret key\r\n    return jwt.sign(user, JWT_SECRET, { expiresIn: '1h' });\r\n}\r\n\r\n// Middleware to protect routes with JWT authentication\r\nfunction verifyToken(req, res, next) {\r\n    const token = req.headers['authorization'];\r\n\r\n    if (!token) {\r\n        return res.status(401).json({ message: 'Unauthorized: No token provided' });\r\n    }\r\n\r\n    try {\r\n        // Verify token\r\n        const decoded = jwt.verify(token, JWT_SECRET);\r\n        \r\n        // Attach decoded user information to the request object\r\n        req.user = decoded;\r\n\r\n        next();\r\n    } catch (err) {\r\n        return res.status(401).json({ message: 'Unauthorized: Invalid token' });\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    generateToken,\r\n    verifyToken\r\n}"],"mappings":";;;;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEnC,IAAMC,UAAU,GAAG,YAAY;;AAE/B;AACA,SAASC,aAAaA,CAACC,IAAI,EAAE;EACzB;EACA,OAAOJ,GAAG,CAACK,IAAI,CAACD,IAAI,EAAEF,UAAU,EAAE;IAAEI,SAAS,EAAE;EAAK,CAAC,CAAC;AAC1D;;AAEA;AACA,SAASC,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACjC,IAAMC,KAAK,GAAGH,GAAG,CAACI,OAAO,CAAC,eAAe,CAAC;EAE1C,IAAI,CAACD,KAAK,EAAE;IACR,OAAOF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAkC,CAAC,CAAC;EAC/E;EAEA,IAAI;IACA;IACA,IAAMC,OAAO,GAAGhB,GAAG,CAACiB,MAAM,CAACN,KAAK,EAAET,UAAU,CAAC;;IAE7C;IACAM,GAAG,CAACJ,IAAI,GAAGY,OAAO;IAElBN,IAAI,CAAC,CAAC;EACV,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACV,OAAOT,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA8B,CAAC,CAAC;EAC3E;AACJ","ignoreList":[]}},"mtime":1715068896844},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"filename\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\\\\src\\\\session.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Tamara\\\\Desktop\\\\man United\\\\backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"regenerator\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"DoWhileStatement\":{\"exit\":[null]},\"ForInStatement\":{\"exit\":[null]},\"ForStatement\":{\"exit\":[null]},\"WhileStatement\":{\"exit\":[null]},\"ForOfStatement\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateToken = generateToken;\nexports.verifyToken = verifyToken;\nvar jwt = require('jsonwebtoken');\nvar JWT_SECRET = 'secrete123';\n\n// Middleware function to generate JWT upon user authentication\nfunction generateToken(user) {\n  // Generate JWT with user payload and secret key\n  return jwt.sign(user, JWT_SECRET, {\n    expiresIn: '1h'\n  });\n}\n\n// Middleware to protect routes with JWT authentication\nfunction verifyToken(req, res, next) {\n  var token = req.headers['authorization'];\n  if (!token) {\n    return res.status(401).json({\n      message: 'Unauthorized: No token provided'\n    });\n  }\n  try {\n    // Verify token\n    var decoded = jwt.verify(token, JWT_SECRET);\n\n    // Attach decoded user information to the request object\n    req.user = decoded;\n    next();\n  } catch (err) {\n    return res.status(401).json({\n      message: 'Unauthorized: Invalid token'\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiSldUX1NFQ1JFVCIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZGVjb2RlZCIsInZlcmlmeSIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUYW1hcmFcXERlc2t0b3BcXG1hbiBVbml0ZWRcXGJhY2tlbmRcXHNyY1xcIiwic291cmNlcyI6WyJzZXNzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5cclxuY29uc3QgSldUX1NFQ1JFVCA9ICdzZWNyZXRlMTIzJztcclxuXHJcbi8vIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgSldUIHVwb24gdXNlciBhdXRoZW50aWNhdGlvblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXIpIHtcclxuICAgIC8vIEdlbmVyYXRlIEpXVCB3aXRoIHVzZXIgcGF5bG9hZCBhbmQgc2VjcmV0IGtleVxyXG4gICAgcmV0dXJuIGp3dC5zaWduKHVzZXIsIEpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pO1xyXG59XHJcblxyXG4vLyBNaWRkbGV3YXJlIHRvIHByb3RlY3Qgcm91dGVzIHdpdGggSldUIGF1dGhlbnRpY2F0aW9uXHJcbmZ1bmN0aW9uIHZlcmlmeVRva2VuKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ107XHJcblxyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQ6IE5vIHRva2VuIHByb3ZpZGVkJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFZlcmlmeSB0b2tlblxyXG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBdHRhY2ggZGVjb2RlZCB1c2VyIGluZm9ybWF0aW9uIHRvIHRoZSByZXF1ZXN0IG9iamVjdFxyXG4gICAgICAgIHJlcS51c2VyID0gZGVjb2RlZDtcclxuXHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZDogSW52YWxpZCB0b2tlbicgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQge1xyXG4gICAgZ2VuZXJhdGVUb2tlbixcclxuICAgIHZlcmlmeVRva2VuXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFbkMsSUFBTUMsVUFBVSxHQUFHLFlBQVk7O0FBRS9CO0FBQ0EsU0FBU0MsYUFBYUEsQ0FBQ0MsSUFBSSxFQUFFO0VBQ3pCO0VBQ0EsT0FBT0osR0FBRyxDQUFDSyxJQUFJLENBQUNELElBQUksRUFBRUYsVUFBVSxFQUFFO0lBQUVJLFNBQVMsRUFBRTtFQUFLLENBQUMsQ0FBQztBQUMxRDs7QUFFQTtBQUNBLFNBQVNDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUU7RUFDakMsSUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQU8sQ0FBQyxlQUFlLENBQUM7RUFFMUMsSUFBSSxDQUFDRCxLQUFLLEVBQUU7SUFDUixPQUFPRixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLE9BQU8sRUFBRTtJQUFrQyxDQUFDLENBQUM7RUFDL0U7RUFFQSxJQUFJO0lBQ0E7SUFDQSxJQUFNQyxPQUFPLEdBQUdoQixHQUFHLENBQUNpQixNQUFNLENBQUNOLEtBQUssRUFBRVQsVUFBVSxDQUFDOztJQUU3QztJQUNBTSxHQUFHLENBQUNKLElBQUksR0FBR1ksT0FBTztJQUVsQk4sSUFBSSxDQUFDLENBQUM7RUFDVixDQUFDLENBQUMsT0FBT1EsR0FBRyxFQUFFO0lBQ1YsT0FBT1QsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBOEIsQ0FBQyxDQUFDO0VBQzNFO0FBQ0oiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["jwt","require","JWT_SECRET","generateToken","user","sign","expiresIn","verifyToken","req","res","next","token","headers","status","json","message","decoded","verify","err"],"sourceRoot":"C:\\Users\\Tamara\\Desktop\\man United\\backend\\src\\","sources":["session.js"],"sourcesContent":["const jwt = require('jsonwebtoken');\r\n\r\nconst JWT_SECRET = 'secrete123';\r\n\r\n// Middleware function to generate JWT upon user authentication\r\nfunction generateToken(user) {\r\n    // Generate JWT with user payload and secret key\r\n    return jwt.sign(user, JWT_SECRET, { expiresIn: '1h' });\r\n}\r\n\r\n// Middleware to protect routes with JWT authentication\r\nfunction verifyToken(req, res, next) {\r\n    const token = req.headers['authorization'];\r\n\r\n    if (!token) {\r\n        return res.status(401).json({ message: 'Unauthorized: No token provided' });\r\n    }\r\n\r\n    try {\r\n        // Verify token\r\n        const decoded = jwt.verify(token, JWT_SECRET);\r\n        \r\n        // Attach decoded user information to the request object\r\n        req.user = decoded;\r\n\r\n        next();\r\n    } catch (err) {\r\n        return res.status(401).json({ message: 'Unauthorized: Invalid token' });\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    generateToken,\r\n    verifyToken\r\n}"],"mappings":";;;;;;;AAAA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEnC,IAAMC,UAAU,GAAG,YAAY;;AAE/B;AACA,SAASC,aAAaA,CAACC,IAAI,EAAE;EACzB;EACA,OAAOJ,GAAG,CAACK,IAAI,CAACD,IAAI,EAAEF,UAAU,EAAE;IAAEI,SAAS,EAAE;EAAK,CAAC,CAAC;AAC1D;;AAEA;AACA,SAASC,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACjC,IAAMC,KAAK,GAAGH,GAAG,CAACI,OAAO,CAAC,eAAe,CAAC;EAE1C,IAAI,CAACD,KAAK,EAAE;IACR,OAAOF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAkC,CAAC,CAAC;EAC/E;EAEA,IAAI;IACA;IACA,IAAMC,OAAO,GAAGhB,GAAG,CAACiB,MAAM,CAACN,KAAK,EAAET,UAAU,CAAC;;IAE7C;IACAM,GAAG,CAACJ,IAAI,GAAGY,OAAO;IAElBN,IAAI,CAAC,CAAC;EACV,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACV,OAAOT,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAA8B,CAAC,CAAC;EAC3E;AACJ","ignoreList":[]}},"mtime":1715068896844}}